{%verbatim%}
<div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" data-backdrop="static"
     data-keyboard="false" id="mdl_present" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header popup-header">
                <h5 class="modal-title" id="exampleModalLabel">
                    Commodity Details
                    <button aria-label="Close" class="close" ng-click="close1()" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </h5>
            </div>
            <div class="modal-body popup-body">
                <div class="row">
                    <!--Leave details-->
                    <div class="col-md-12">


                        <div class="col-md-5">
                            <md-input-container class="md-block inputcontainer">
                                <label>Enter Commodity Code</label>
                                <input type="text" ng-disabled="true" ng-model="commo.invnum" maxlength="5"
                                       numbers-only>
                            </md-input-container>
                        </div>
                        <div class="col-md-5">
                            <md-input-container class="md-block inputcontainer">
                                <label>Enter Commodity Name</label>
                                <input type="text" maxlength="64" ng-model="commo.invnums" letter-Only>
                            </md-input-container>
                        </div>
                    </div>

                    <div class="col-lg-12 col-sm-12 text-center">
<!--                        <md-button class="md-raised custbutton" ng-click="save(commo)" value="Submit"-->
<!--                                   data-dismiss="modal">-->
<!--                            Submit-->
<!--                        </md-button>-->
<!--                        <md-button class="md-raised" ng-click="close()" value="Submit" data-dismiss="modal">-->
<!--                            Close-->
<!--                        </md-button>-->


                        <div class="col-lg-12 col-sm-12 text-center">
<!--                            <md-button class="md-raised custbutton" ng-click="save(commo)" value="Submit"-->
<!--                                       data-dismiss="modal">-->
<!--                                Submit-->
<!--                            </md-button>-->
<!--                            <md-button class="md-raised" ng-click="close()" value="Submit" data-dismiss="modal">-->
<!--                                Close-->
<!--                            </md-button>-->

                            <div class="row" align="center">
                                <md-button class=" btn btn-info custbutton  " ng-disabled="!(commo.invnum != undefined &&
                                                commo.invnums != undefined) " ng-click="save(commo)">
                                    Submit
                                </md-button>
                                <md-button class="md-raised" ng-click="close1()">
                                    Close
                                </md-button>


                            </div>
                            <div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
<!--COMMODITY ENDS-->
<!-- PR-CCBS -->
<div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" data-backdrop="static"
     data-keyboard="false" id="mdl_present1" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header popup-header aa" style="background-color: rgb(75, 122, 130)">
                <h5 class="modal-title" id="lo">
                    Cc Bs Details
                    <button aria-label="Close" class="close" ng-click="cancel()"  type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </h5>
            </div>
            <div class="modal-body popup-body">
                <div class="row">
                    <!--ccbs details-->
                    <form id="create" name="ccbs" method="post">
                        <div class="col-md-3 col-sm-12 col-xs-12">
                            <md-autocomplete md-clear-button="true" md-floating-label="Bs Name"
                                             md-input-maxlength=40 md-item-text="item.tbs_code"
                                             md-items="item in bsname(prc.bsdata)" md-min-length=0 md-no-cache="true"
                                             md-search-text="prc.bsdata" md-selected-item="prc.bname"
                                             md-selected-item-change="bstocc(item.tbs_gid)" required>
                                <md-item-template>
                                    <span md-highlight-text="prc.bsdata"> {{item.tbs_code}}</span>
                                </md-item-template>
                                <md-not-found>
                                    No product matching "{{prc.bsdata}}" were found.
                                </md-not-found>
                            </md-autocomplete>
                        </div>
                        <div class="col-md-3 col-sm-12 col-xs-12">
                            <md-autocomplete md-clear-button="true" md-floating-label="Cc Name" md-input-maxlength=4
                                             md-item-text="item.tcc_code" md-items="item in tsname(prc.ccdata)"
                                             md-min-length=0
                                             md-no-cache="true" md-search-text="prc.ccdata" 
                                             md-selected-item="prc.tname"
                                             md-selected-item-change="search81()" required>
                                <md-item-template>
                                        <span md-highlight-text="prc.ccdata">
                                            {{item.tcc_code}}
                                        </span>
                                </md-item-template>
                                <md-not-found>
                                    No product matching "{{prc.ccdata}}" were found.
                                </md-not-found>
                            </md-autocomplete>
                        </div>
                        <div class="col-md-3 col-sm-12 col-xs-12">
                            <md-autocomplete md-clear-button="true" md-floating-label=" CCBS" md-input-maxlength=11
                                             md-item-text="item.ccbs_code" md-items="item in ccbsdata(prc.ccbsdata2)"
                                             md-min-length=0 md-no-cache="true" md-search-text="prc.ccbsdata2"
                                             md-selected-item="prc.cbname" md-selected-item-change="ccbstocb(item.ccbs_cc,item.ccbs_bs)" required>
                                <md-item-template>
                                    <span md-highlight-text="prc.ccbsdata2"> {{item.ccbs_code}} </span>
                                </md-item-template>
                                <md-not-found>
                                    No product matching "{{prc.ccbsdata2}}" were found.
                                </md-not-found>
                            </md-autocomplete>
                        </div>
                      
                        <!-- <div class="col-md-4 col-sm-12 col-xs-12"> -->
                            <!-- <label class="radio-inline"> -->
                                <!-- <input type="radio" checked="checked" name="radio">uuuu -->

                                <!-- <input type="radio" name="optradio" ng-model='prc.delivery_type' value="PO_BRANCH">Branch
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="optradio" ng-model='prc.delivery_type' value="PO_GODOWN">Godown
                            </label> -->

                        <!-- </div> -->

                        <div class="col-md-3" layout="row" style="margin-top:30px">
                                
                                <div class="col-md-7">
                                    <md-radio-group layout="row" ng-model="prc.delivery_type">
                                        <md-radio-button value="PO_GODOWN" class="md-primary">Godown</md-radio-button>
                                        <md-radio-button value="PO_BRANCH" class="md-primary">Branch</md-radio-button>
                                    </md-radio-group>
                                </div>
                            </div>


                        <div class="col-md-12 col-xs-3 text-right">
                                
                            <md-button class="md-raised md-warn" ng-click="addccbs(prc,$index)" ng-disabled="ccbs.$invalid"
                                       value="Submit">
                                Add
                            </md-button>
                        </div>
                      
                      
                        <!-- <div class="col-md-1 col-xs-3 text-center" style="margin-top: 17px;">
                            <md-button class="md-fab md-mini md-primary custbutton" ng-click="addproduct(pr)"
                                ng-disabled="prform.$invalid" ng-hide="disable">
                                <md-icon>add</md-icon>
                                <md-tooltip>Create New</md-tooltip>
                            </md-button>
                        </div> -->
                    </form>
                  
                   

                    <!--Data Table-->
                    <div class="col-md-12 col-lg-12 col-sm-12">
                            <!-- <h6>Raised Quantity:{{allocatedqty}}</h6> -->
                            
                                    <span style="color:#D9534F;font-size:15px;"> Raised Quantity: </span><b style="font-size:15px;">{{allocatedqty}}</b>
                                
                        <table class="table  table-striped table-bordered table-condensed table-hover">
                            <thead style="background: rgba(27, 183, 89, 0.28);color:black;">
                            <tr>
                                <th>S.No</th>
                                <th>Location</th>
                                <th>Cc Name</th>
                                <th> Bs Name</th>
                                <th>CcBs Name</th>
                                <th>Quantity</th>
                                <th>Action</th>


                            </tr>
                            </thead>
                            <tbody ng-init="total = 0">
                            <tr
                                    ng-repeat="pur in ccbsddl.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage))  | filter:searchquery "  ng-if="pur.prccbs_edit!='R'">
                                <td>
                                    <center>{{((currentPage-1)*itemsPerPage)+$index+1}}</center>
                                </td>

                                <td ng-if="pur.delivery_type=='PO_BRANCH'">
                                    <form name="Location">
                                        <div class="col-md-3">
                                            <md-autocomplete md-clear-button="true"
                                                             md-floating-label="Choose delivery" md-input-maxlength=40
                                                             md-item-text="item.branch_name"
                                                             md-items="item in branchdd(searchText3)" md-min-length=0
                                                             md-no-cache="true"
                                                             md-search-text="searchText3"
                                                             md-selected-item="pur.location"
                                                             md-selected-item-change="databranch($index,item.branch_gid)"
                                                             required>
                                                <md-item-template>
                                                            <span md-highlight-text="search"> {{item.branch_name}}
                                                            </span>
                                                </md-item-template>
                                                <md-not-found>
                                                    No product matching "{{searchText3}}" were found.
                                                </md-not-found>
                                            </md-autocomplete>
                                        </div>


                                    </form>
                                </td>
                                <td ng-if="pur.delivery_type=='PO_GODOWN'">
                                    <form name="Location">
                                        <div class="col-md-3">
                                            <md-autocomplete md-clear-button="true"
                                                             md-floating-label="Choose delivery"
                                                             md-input-maxlength=40
                                                             md-item-text="item.godown_name"
                                                             md-items="item in godown(search12)"
                                                             md-min-length=0
                                                             md-no-cache="true"
                                                             md-search-text="search12"
                                                             md-selected-item="pur.location"
                                                             md-selected-item-change="databranch($index,item.godown_gid)"
                                                             required>
                                                <md-item-template>
                                                    <span md-highlight-text="search12"> {{item.godown_name}}
                                                    </span>
                                                </md-item-template>
                                                <md-not-found>
                                                    No product matching "{{search12}}" were found.
                                                </md-not-found>
                                            </md-autocomplete>
                                        </div>
                                    </form>
                                </td>
                                
                                <td>{{pur.prccbs_bs}}</td>
                                <td>{{pur.prccbs_cc}}</td>
                                <td>{{pur.prccbs_code}}</td>

                                <td align="">
                                    <form name="ccbsform" novalidate>
                                        <input align="center" style="width:100px" name="qty" type="text"
                                               maxlength="4" ng-model="pur.prccbs_qty" numbers-only
                                               ng-change="totalqty(pur)" ng-disabled="pur.location!=undefined ? false : true " class="form-control"
                                               required>
                                        <div ng-messages="ccbsform.qty.$error">
                                            <div ng-message="number">Should be a number</div>
                                            <div ng-message="max">your quantity order exceeds 10000</div>
                                            <div ng-message="min">your quantity should not be zero</div>
                                        </div>
                                    </form>
                                    <input type="hidden" name="Price"  ng-model="totalaa" ng-value="totalqty()"/>
                                </td>
                                <td ng-hide="disable">
                                            <span class="editlink" ng-click="removeddl(pur,$index)">
                                                <i class="material-icons">delete</i>
                                                <md-tooltip>Delete</md-tooltip>
                                            </span>
                                </td>
                                <tr ng-show="ccbsddl.length!=0" ng-model="totalqty1">
                                    <td colspan="5" align="right"><b>Total</b></td>
                                    <td colspan="2" align="left" ng-mode="pur.Total">
                                        <!-- <span ng-if="ccbsddl.length == 0"><b>{{total}}</b></span> -->
                                        <span ng-if="ccbsddl.length>0"><code>{{totalqty()}}</code></span>
                                    </td>
                                </tr>

                            </tr>
                            <tr ng-show="ccbsddl.length ==  0">
                                <td class="warning" colspan="10">
                                    Add Records.
                                </td>
                            </tr>
                           

                            </tbody>
                        </table>
                    </div>
                    <div class="col-lg-12 col-sm-12 text-center">
                        <md-button class="md-raised custbutton" ng-click="saveccbsdata(ccbsddl,$index,allocatedqty)" value="Submit"
                                   ng-disabled="totalqty()== allocatedqty ? false : true" value="Save">
                            Save
                        </md-button>
                        <md-button class="md-raised" ng-click="cancel()" value="Submit" >
                            Close
                        </md-button>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>
<!-- end PR_CCBS-->
<!-- Agent summary popup -->
<div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" data-backdrop="static"
     data-keyboard="false" id="userreport" role="dialog" tabindex="-1">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header popup-header aa" style="background-color: rgb(75, 122, 130)">
                <h5 class="modal-title" id="lo">
                    Cc Bs Details
                    <button aria-label="Close" class="close" ng-click="cancel()"  type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </h5>
            </div>
            <div class="modal-body popup-body">
                <div class="row">
               


                    
                  
                   

                    <!--Data Table-->
                    <div class="col-md-12 col-lg-12 col-sm-12">
                            <!-- <h6>Raised Quantity:{{allocatedqty}}</h6> -->
                            
                                    <span style="color:#D9534F;font-size:15px;"> Raised Quantity: </span><b style="font-size:15px;">{{allocatedqty}}</b>
                                
                        <table class="table  table-striped table-bordered table-condensed table-hover">
                            <thead style="background: rgba(27, 183, 89, 0.28);color:black;">
                                <tr>
                                    <th ng-repeat="(key, val) in details[0]">{{ key }}</th>
                                  </tr>
                            </thead>
                            <tbody ng-init="total = 0">
                            
                            
                                
                                  <tr ng-repeat="row in details">
                                    <td ng-repeat="column in row">
                                      {{ column }}
                                    </td>
                                  </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-lg-12 col-sm-12 text-center">
                        <md-button class="md-raised custbutton" ng-click="saveccbsdata(ccbsddl,$index,allocatedqty)" value="Submit"
                                   ng-disabled="totalqty()== allocatedqty ? false : true " value="Save">
                            Save
                        </md-button>
                        <md-button class="md-raised" ng-click="cancel()" value="Submit" data-dismiss="modal">
                            Close
                        </md-button>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>
<style>
    .md-select-menu-container.md-active {
      z-index: 1060;
      }
      .md-autocomplete-suggestions-container{
     z-index:100000 !important;
    }
      .md-dialog-container{
      z-index:100000 !important;
      }

</style>
{% endverbatim %}